@page "/error"
@using Microsoft.AspNetCore.Components.Web
@inject Microsoft.AspNetCore.Hosting.IWebHostEnvironment WebHostEnv

<h1 class="text-danger">Error.</h1>
<h2 class="text-danger">An error occurred while processing your request.</h2>

@if (!string.IsNullOrEmpty(ErrorId))
{
    <p>If you need to report this error, please include the following Error ID:</p>
    <p><strong>Error ID: @ErrorId</strong></p>
}

@if (WebHostEnv.IsDevelopment())
{
    <p>
        <strong>Development Mode Error Details:</strong>
    </p>
    <p>
        Swapping to the <strong>Development</strong> environment displays detailed information about the error that occurred.
    </p>
    <p>
        <strong>The Development environment should not be enabled for deployed applications.</strong>
        It can result in displaying sensitive information from exceptions to end users.
        For local debugging, enable the <strong>Development</strong> environment by setting the <strong>ASPNETCORE_ENVIRONMENT</strong> environment variable to <strong>Development</strong>
        and restarting the app.
    </p>
    @* You could potentially access and display exception information if passed via query parameters or a service,
       but Blazor's default error handling often redirects here without detailed exception context directly available in the component.
       The `blazor-error-ui` in App.razor handles the client-side display of unhandled exceptions during development. *@
}

<p>
    For detailed information, please check the server logs.
</p>

@code {
    /// <summary>
    /// Optional error identifier that can be passed from the server
    /// via a query string parameter (e.g., /error?ErrorId=xyz123).
    /// </summary>
    [Parameter]
    [SupplyParameterFromQuery]
    public string? ErrorId { get; set; }
}